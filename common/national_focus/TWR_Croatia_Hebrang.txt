#####################
##Coded by Spyeter###
#####################

shared_focus = {
	id = CRO_Hebrang_Victory
	icon = GFX_CRO_Hebrang_Bust
	cost = 5
	x = 14
	y = 0
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Victory"
		custom_effect_tooltip = Focus_be_Bypassed_tt
		news_event = { id = croatianews.36 }
		hidden_effect = {
			retire_country_leader = yes
			retire_ideology_leader = marxist_leninist
			retire_ideology_leader = bolshevik_leninist
			cro_commie_leaders = yes
		}
	}
}


shared_focus = {
	id = CRO_Hebrang_Transforming_The_Country
	icon = GFX_NOV_Continue_Paving_The_Road_To_Communism
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_Victory
	prerequisite = {
		focus = CRO_Hebrang_Victory
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Transforming_The_Country"
		add_popularity = {
			ideology = marxist_leninist
			popularity = 0.06
    	}
	}
}

shared_focus = {
	id = CRO_Hebrang_The_First_Stage
	icon = GFX_SOV_orlov_phase_one
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_Transforming_The_Country
	prerequisite = {
		focus = CRO_Hebrang_Transforming_The_Country
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_The_First_Stage"
		add_dynamic_modifier = { modifier = CRO_Two_Stage_Theory_Modifier }
		custom_effect_tooltip = CRO_Hebrang_The_First_Stage_tt
		custom_effect_tooltip = improve_Two_Stage_Theory_Modifier_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }
	}
}

shared_focus = {
	id = CRO_Hebrang_Destroy_Church_Influence
	icon = GFX_GENERIC_Stamp_Christain
	cost = 5
	x = -2
	y = 1
	relative_position_id = CRO_Hebrang_The_First_Stage
	prerequisite = {
		focus = CRO_Hebrang_The_First_Stage
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Destroy_Church_Influence"
		country_event = {
			id = twrcroatia.144
			hours = 2
		}
		custom_effect_tooltip = CRO_Hebrang_Destroy_Church_Influence_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_ML_drift_factor = 0.01 }
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_stability_factor = -0.1 }			
	}
}

shared_focus = {
	id = CRO_Hebrang_Industrialize_The_Backward_Areas
	icon = GFX_GENERIC_Factory_Planning
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_The_First_Stage
	prerequisite = {
		focus = CRO_Hebrang_The_First_Stage
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Industrialize_The_Backward_Areas"
				custom_effect_tooltip = CRO_Hebrang_Industrialize_The_Backward_Areas_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_production_speed_industrial_complex_factor = 0.05 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_production_speed_infrastructure_factor = 0.05 }				
	}
}

shared_focus = {
	id = CRO_Hebrang_Education_For_The_Uneducated
	icon = GFX_POR_Education_Reform
	cost = 5
	x = 2
	y = 1
	relative_position_id = CRO_Hebrang_The_First_Stage
	prerequisite = {
		focus = CRO_Hebrang_The_First_Stage
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Education_For_The_Uneducated"
				custom_effect_tooltip = CRO_Hebrang_Education_For_The_Uneducated_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_research_speed_factor = 0.05 }						
	}
}

shared_focus = {
	id = CRO_Hebrang_The_Second_Stage
	icon = GFX_SOV_orlov_phase_two
	cost = 5
	x = 0
	y = 2
	relative_position_id = CRO_Hebrang_The_First_Stage
	prerequisite = {
		focus = CRO_Hebrang_Destroy_Church_Influence
	}
	prerequisite = {
		focus = CRO_Hebrang_Industrialize_The_Backward_Areas
	}
	prerequisite = {
		focus = CRO_Hebrang_Education_For_The_Uneducated
	}
	available = {
		has_completed_focus = CRO_A_New_Four_Year_Plan
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_The_Second_Stage"
				custom_effect_tooltip = CRO_Hebrang_The_Second_Stage_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_war_support_factor = 0.05 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_ML_drift_factor = 0.01 }		
	}
}

shared_focus = {
	id = CRO_Hebrang_The_Economy
	icon = GFX_GENERIC_ignored_economy
	cost = 5
	x = -2
	y = 1
	relative_position_id = CRO_Hebrang_The_Second_Stage
	prerequisite = {
		focus = CRO_Hebrang_The_Second_Stage
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_The_Economy"
			country_event = { hours = 2 id = twrcroatia.244 }
	}
}


shared_focus = {
	id = CRO_Hebrang_Church_Holdings
	icon = GFX_KOR_seize_the_wealth
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Hebrang_The_Economy
	prerequisite = {
		focus = CRO_Hebrang_The_Economy
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Church_Holdings"
		add_timed_idea = {
			idea = CRO_catholic_church_intimidated
			days = 1095
		}
	}
}

shared_focus = {
	id = CRO_Hebrang_Church
	icon = GFX_GENERIC_Stamp_Christain
	cost = 5
	x = -1
	y = 1
	relative_position_id = CRO_Hebrang_Church_Holdings
	prerequisite = {
		focus = CRO_Hebrang_Church_Holdings
	}
	prerequisite = {
		focus = CRO_Hebrang_End_The_Landowners
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Church"
                add_ideas = CRO_Forced_Secularization_idea
                add_popularity = {
			ideology = marxist_leninist
			popularity = 0.05
                      }
                add_stability = -0.05
                add_war_support = -0.05	
	}
}


shared_focus = {
	id = CRO_Hebrang_Redistribution_Of_Wealth
	icon = GFX_The_Worker-Soldier-Peasant
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Hebrang_Church
	prerequisite = {
		focus = CRO_Hebrang_Central_Planning
	}
	prerequisite = {
		focus = CRO_Hebrang_Church
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Redistribution_Of_Wealth"
                add_political_power = 150
                add_stability = 0.10
	}
}


shared_focus = {
	id = CRO_Hebrang_Collectivization
	icon = GFX_GENERIC_land_redistribution
	cost = 5
	x = -3
	y = 1
	relative_position_id = CRO_Hebrang_The_Economy
	prerequisite = {
		focus = CRO_Hebrang_The_Economy
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Collectivization"
		
                add_stability = -0.10
                add_offsite_building = { type = industrial_complex level = 1 }
                add_offsite_building = { type = industrial_complex level = 1 }		
	}
}

shared_focus = {
	id = CRO_Hebrang_End_The_Landowners
	icon = GFX_SAF_Seize_Land
	cost = 5
	x = -1
	y = 1
	relative_position_id = CRO_Hebrang_The_Economy
	prerequisite = {
		focus = CRO_Hebrang_The_Economy
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_End_The_Landowners"
                add_stability = -0.10
		random_owned_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}	
	}
}

shared_focus = {
	id = CRO_Hebrang_Central_Planning
	icon = GFX_goal_generic_soviet_construction
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Hebrang_Collectivization
	prerequisite = {
		focus = CRO_Hebrang_Collectivization
	}
	prerequisite = {
		focus = CRO_Hebrang_End_The_Landowners
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Central_Planning"
		add_ideas = CRO_Planned_Economy 
		IF = {
			limit = {
				NOT = { has_idea = CRO_AM_Branko_Horvat }
			}
			add_ideas = CRO_AM_Branko_Horvat 
		}
	}
}

shared_focus = {
	id = CRO_Hebrang_Homes_For_The_Homeless
	icon = GFX_NOV_New_Planned_Cities_in_Kazakhstan
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_Central_Planning
	prerequisite = {
		focus = CRO_Hebrang_Central_Planning
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Homes_For_The_Homeless"
				custom_effect_tooltip = CRO_Hebrang_Homes_For_The_Homeless_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_production_speed_infrastructure_factor = 0.1 }		
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }					
	}
}

shared_focus = {
	id = CRO_Hebrang_The_Vanguard_Party
	icon = GFX_GENERIC_Lenin_Lives
	cost = 5
	x = 3
	y = 1
	relative_position_id = CRO_Hebrang_The_Second_Stage
	prerequisite = {
		focus = CRO_Hebrang_The_Second_Stage
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_The_Vanguard_Party"
		swap_ideas = {
			remove_idea = CRO_Unstable_Government_idea
			add_idea = CRO_Unstable_Government_1_idea
		}
				custom_effect_tooltip = CRO_Hebrang_The_Vanguard_Party_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_stability_factor = 0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_ML_drift_factor = 0.01 }			
	}
}

shared_focus = {
	id = CRO_Hebrang_Protect_Communism_From_Threats
	icon = GFX_USA_soviets
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Hebrang_The_Vanguard_Party
	prerequisite = {
		focus = CRO_Hebrang_The_Vanguard_Party
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Protect_Communism_From_Threats"
				custom_effect_tooltip = CRO_Hebrang_Protect_Communism_From_Threats_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_stability_factor = 0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_ML_drift_factor = 0.02 }		
	}
}

shared_focus = {
	id = CRO_Hebrang_Anti_Reactionary_Courts
	icon = GFX_NRI_Military_Police_Jury_Courts
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_Protect_Communism_From_Threats
	prerequisite = {
		focus = CRO_Hebrang_Protect_Communism_From_Threats
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Anti_Reactionary_Courts"
		remove_ideas = CRO_Ustashe_Resistance_idea
				custom_effect_tooltip = CRO_Hebrang_Anti_Reactionary_Courts_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_war_support_factor = 0.05 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_stability_factor = 0.02 }		
	}
}

shared_focus = {
	id = CRO_Hebrang_Surveillance
	icon = GFX_SOV_surveillance_squads
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_Anti_Reactionary_Courts
	prerequisite = {
		focus = CRO_Hebrang_Anti_Reactionary_Courts
	}
	prerequisite = {
		focus = CRO_Hebrang_Spread_Class_Consciousness
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Surveillance"
		country_event = { id = twrcroatia.241 hours = 2 }
				custom_effect_tooltip = CRO_Hebrang_Surveillance_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_stability_factor = 0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_ML_drift_factor = 0.01 }		
	}
}

shared_focus = {
	id = CRO_Hebrang_Educate_The_Masses
	icon = GFX_GENERIC_Classroom
	cost = 5
	x = 3
	y = 1
	relative_position_id = CRO_Hebrang_The_Vanguard_Party
	prerequisite = {
		focus = CRO_Hebrang_The_Vanguard_Party
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Educate_The_Masses"
		add_research_slot = 1
	}
}

shared_focus = {
	id = CRO_Hebrang_Spread_Class_Consciousness
	icon = GFX_GENERIC_Socialist_Education
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_Educate_The_Masses
	prerequisite = {
		focus = CRO_Hebrang_Educate_The_Masses
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Spread_Class_Consciousness"
				custom_effect_tooltip = CRO_Hebrang_Spread_Class_Consciousness_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_research_speed_factor = 0.05 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_ML_drift_factor = 0.01 }			
	}
}

shared_focus = {
	id = CRO_Hebrang_Democratic_Centralism
	icon = GFX_NOV_Party_Election
	cost = 5
	x = 1
	y = 2
	relative_position_id = CRO_Hebrang_The_Second_Stage
	prerequisite = {
		focus = CRO_Hebrang_The_Vanguard_Party
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Democratic_Centralism"
		add_ideas = CRO_Supreme_Soviet
	}
}

shared_focus = {
	id = CRO_Hebrang_No_To_Factionalism
	icon = GFX_SOV_Old_Worker
	cost = 5
	x = -1
	y = 1
	relative_position_id = CRO_Hebrang_Democratic_Centralism
	prerequisite = {
		focus = CRO_Hebrang_Democratic_Centralism
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_No_To_Factionalism"
				custom_effect_tooltip = CRO_Hebrang_No_To_Factionalism_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_ML_drift_factor = 0.02 }				
	}
}

shared_focus = {
	id = CRO_Hebrang_Strict_Party_Discipline
	icon = GFX_SOV_Soviet_Election
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Hebrang_Democratic_Centralism
	prerequisite = {
		focus = CRO_Hebrang_Democratic_Centralism
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Strict_Party_Discipline"
				custom_effect_tooltip = CRO_Hebrang_Strict_Party_Discipline_tt
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_pp_factor = -0.02 }	
		add_to_variable = { CRO_Two_Stage_Theory_Modifier_stability_factor = 0.02 }			
	}
}

shared_focus = {
	id = CRO_Hebrang_A_New_Red_Dawn
	icon = GFX_CRO_A_New_Red_Dawn
	cost = 5
	x = 1
	y = 5
	relative_position_id = CRO_Hebrang_The_Second_Stage
	prerequisite = {
		focus = CRO_Hebrang_Homes_For_The_Homeless
	}
	prerequisite = {
		focus = CRO_Hebrang_Redistribution_Of_Wealth
	}
	prerequisite = {
		focus = CRO_Hebrang_No_To_Factionalism
	}
	prerequisite = {
		focus = CRO_Hebrang_Strict_Party_Discipline
	}
	prerequisite = {
		focus = CRO_Hebrang_Anti_Reactionary_Courts
	}
	prerequisite = {
		focus = CRO_Hebrang_Surveillance
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_A_New_Red_Dawn"
		country_event = { hours = 2 id = twrcroatia.245 }
		custom_effect_tooltip = CRO_increase_partisan_detachment_unrest_tt
		add_to_variable = { CRO_hebrang_unrest = 2 }			
	}
}

shared_focus = {
	id = CRO_Hebrang_The_Revolution_Secured
	icon = GFX_SOV_Socialist_Russian_Char
	cost = 5
	x = -1
	y = 1
	relative_position_id = CRO_Hebrang_A_New_Red_Dawn
	prerequisite = {
		focus = CRO_Hebrang_A_New_Red_Dawn
	}
	prerequisite = {
		focus = CRO_Hebrang_Cult_Of_Personality
	}
	cancelable = yes
	completion_reward = {
	log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_The_Revolution_Secured"
	complete_national_focus = CRO_Yugo_Liberation
	country_event = { hours = 2 id = twrcroatia.119 }
	swap_ruler_traits = {
			remove = croatian_stalinist
			add = croatian_stalin
		}
        random_unit_leader = { limit = { has_id = 162 } promote_leader = yes }
        set_country_leader_portrait = {
                ideology = marxist_leninist
                portrait = GFX_Portrait_Hebrang_Drip
            }
		}
}

shared_focus = {
	id = CRO_Hebrang_Cult_Of_Personality
	icon = GFX_CRO_Hebrang_Cult_Of_Personality
	cost = 3
	x = -1
	y = 5
	relative_position_id = CRO_Hebrang_The_Second_Stage
	prerequisite = {
		focus = CRO_Hebrang_Homes_For_The_Homeless
	}
	prerequisite = {
		focus = CRO_Hebrang_Redistribution_Of_Wealth
	}
	prerequisite = {
		focus = CRO_Hebrang_No_To_Factionalism
	}
	prerequisite = {
		focus = CRO_Hebrang_Strict_Party_Discipline
	}
	prerequisite = {
		focus = CRO_Hebrang_Anti_Reactionary_Courts
	}
	prerequisite = {
		focus = CRO_Hebrang_Surveillance
	}
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Cult_Of_Personality"
        add_country_leader_trait = hebrang_cult_of_personality
		add_popularity = {
			ideology = marxist_leninist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = CRO_Hebrang_Marxs_Legacy_Lives_On
	icon = GFX_CRO_Legacy_Of_Marxism
	cost = 3
	x = 0
	y = 1
	relative_position_id = CRO_Hebrang_The_Revolution_Secured
	prerequisite = {
                focus = CRO_Hebrang_The_Revolution_Secured
	}
	available = { has_completed_focus = CRO_Yugo_Consolidate_Socialist_Yugoslavia }
	cancelable = yes
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Hebrang_Marxs_Legacy_Lives_On"
                country_event = { id = cro_endings.8  hours = 2 }
	}
}
